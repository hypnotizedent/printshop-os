# =============================================================================
# PrintShop OS - Environment Variables Template
# =============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env files to version control
# =============================================================================

# -----------------------------------------------------------------------------
# General Configuration
# -----------------------------------------------------------------------------
NODE_ENV=development
LOG_LEVEL=info
TZ=America/New_York

# -----------------------------------------------------------------------------
# Frontend URLs (for browser access)
# -----------------------------------------------------------------------------
# For local development, use localhost URLs
# For Cloudflare Tunnel deployment, change these to your public tunnel URLs
# Example for domain "printshop.example.com":
#   VITE_API_URL=https://api.printshop.example.com
#   VITE_STRAPI_URL=https://cms.printshop.example.com
#   VITE_PRICING_URL=https://api.printshop.example.com
#   VITE_WS_URL=wss://api.printshop.example.com
VITE_API_URL=http://localhost:3001
VITE_STRAPI_URL=http://localhost:1337
VITE_PRICING_URL=http://localhost:3004
VITE_WS_URL=ws://localhost:3004

# -----------------------------------------------------------------------------
# Strapi Configuration (Central API & Database)
# -----------------------------------------------------------------------------
# Strapi Server
STRAPI_HOST=0.0.0.0
STRAPI_PORT=1337
STRAPI_URL=http://localhost:1337
STRAPI_ADMIN_JWT_SECRET=your-admin-jwt-secret-change-this
STRAPI_API_TOKEN_SALT=your-api-token-salt-change-this
STRAPI_APP_KEYS=your-app-key-1,your-app-key-2,your-app-key-3,your-app-key-4
STRAPI_JWT_SECRET=your-jwt-secret-change-this

# =============================================================================
# STRAPI_PUBLIC_URL - CRITICAL FOR ADMIN PANEL TO LOAD
# =============================================================================
# This tells Strapi where it's publicly accessible from.
# Without this, the /admin panel may not load correctly because static assets
# are served from incorrect paths.
#
# For local development:
STRAPI_PUBLIC_URL=http://localhost:1337
#
# For production (examples):
# STRAPI_PUBLIC_URL=http://100.92.156.118:1337    # Direct IP access
# STRAPI_PUBLIC_URL=https://printshop.ronny.works  # Domain with reverse proxy
#
# IMPORTANT: After changing STRAPI_PUBLIC_URL, you MUST rebuild the admin panel:
#   1. SSH into docker-host
#   2. cd ~/stacks/printshop-os
#   3. docker compose down strapi
#   4. docker compose up -d --build strapi
#   (Or restart with: docker compose restart strapi)
# =============================================================================

# Strapi API Token (for Appsmith and Botpress integration)
STRAPI_API_TOKEN=your_strapi_api_token_here

# Database Configuration
DATABASE_CLIENT=postgres
DATABASE_HOST=postgres
DATABASE_PORT=5432
DATABASE_NAME=printshop
DATABASE_USERNAME=strapi
DATABASE_PASSWORD=secure_password_change_this
DATABASE_SSL=false

# Alternative: SQLite for development (comment out postgres above)
# DATABASE_CLIENT=sqlite
# DATABASE_FILENAME=.tmp/data.db

# -----------------------------------------------------------------------------
# PostgreSQL Configuration
# -----------------------------------------------------------------------------
POSTGRES_USER=strapi
POSTGRES_PASSWORD=secure_password_change_this
POSTGRES_DB=printshop

# -----------------------------------------------------------------------------
# Appsmith Configuration (Internal Production Dashboard)
# -----------------------------------------------------------------------------
APPSMITH_INSTANCE_NAME=PrintShop Production Dashboard
APPSMITH_API_URL=http://localhost:8080
APPSMITH_ENCRYPTION_PASSWORD=your-encryption-password-change-this
APPSMITH_ENCRYPTION_SALT=your-encryption-salt-change-this
APPSMITH_MONGODB_URI=mongodb://mongo:27017/appsmith
APPSMITH_REDIS_URL=redis://redis:6379
APPSMITH_MAIL_ENABLED=false

# Appsmith OAuth (optional)
# APPSMITH_OAUTH2_GOOGLE_CLIENT_ID=
# APPSMITH_OAUTH2_GOOGLE_CLIENT_SECRET=
# APPSMITH_OAUTH2_GITHUB_CLIENT_ID=
# APPSMITH_OAUTH2_GITHUB_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Botpress Configuration (Optional - if using AI chatbot)
# -----------------------------------------------------------------------------
# BOTPRESS_URL=http://localhost:3000
# BOTPRESS_PORT=3000
# BOTPRESS_HOST=0.0.0.0
# BOTPRESS_DATABASE_URL=postgres://botpress:secure_password@postgres:5432/botpress
# BOTPRESS_WEBHOOK_SECRET=your_webhook_secret_change_this
# BOTPRESS_ENCRYPTION_KEY=your-encryption-key-change-this

# -----------------------------------------------------------------------------
# Redis Configuration (for caching and sessions)
# -----------------------------------------------------------------------------
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=

# -----------------------------------------------------------------------------
# MongoDB Configuration (for Appsmith)
# -----------------------------------------------------------------------------
MONGO_INITDB_ROOT_USERNAME=root
MONGO_INITDB_ROOT_PASSWORD=secure_password_change_this
MONGO_INITDB_DATABASE=appsmith

# -----------------------------------------------------------------------------
# Email Configuration (optional - for notifications)
# -----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@printshop.com

# -----------------------------------------------------------------------------
# Docker Configuration
# -----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=printshop-os

# -----------------------------------------------------------------------------
# Optional: Email Notifications (Nodemailer)
# -----------------------------------------------------------------------------
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USER=your-email@gmail.com
# EMAIL_PASS=your-app-password
# EMAIL_FROM=noreply@printshop.com

# -----------------------------------------------------------------------------
# Optional: AI Features (OpenAI)
# -----------------------------------------------------------------------------
# OPENAI_API_KEY=sk-your-key-here
# OPENAI_MODEL=gpt-4

# -----------------------------------------------------------------------------
# Supplier API Integration (Required for Inventory Sync)
# -----------------------------------------------------------------------------
# S&S Activewear - https://www.ssactivewear.com/
SS_ACTIVEWEAR_API_KEY=your_api_key_here
SS_ACTIVEWEAR_ACCOUNT_NUMBER=your_account_number_here
SS_ACTIVEWEAR_BASE_URL=https://api.ssactivewear.com

# AS Colour - https://www.ascolour.com/
ASCOLOUR_API_KEY=your_subscription_key_here
ASCOLOUR_SUBSCRIPTION_KEY=your_subscription_key_here
ASCOLOUR_BASE_URL=https://api.ascolour.com
ASCOLOUR_EMAIL=your_email_here
ASCOLOUR_PASSWORD=your_password_here
ASCOLOUR_AUTH_HEADER_NAME=Subscription-Key
ASCOLOUR_PAGE_SIZE=100
ASCOLOUR_MAX_PAGES=50
ASCOLOUR_DATA_DIR=./data/ascolour

# SanMar - https://www.sanmar.com/
SANMAR_USERNAME=your_sftp_username_here
SANMAR_PASSWORD=your_sftp_password_here
SANMAR_SFTP_HOST=ftp.sanmar.com
SANMAR_SFTP_PORT=2200

# -----------------------------------------------------------------------------
# Optional: Shipping Integration (Future)
# -----------------------------------------------------------------------------
# EASYPOST_API_KEY=your_easypost_api_key
# EASYPOST_MODE=test

# =============================================================================
# Business Services Stack (docker-compose.business-services.yml)
# =============================================================================

# -----------------------------------------------------------------------------
# Invoice Ninja Configuration (Invoicing, Payments, Contracts)
# -----------------------------------------------------------------------------
INVOICENINJA_URL=http://localhost:9000
# Generate with: php artisan key:generate --show (or use openssl rand -base64 32)
INVOICENINJA_APP_KEY=base64:your-32-char-key-here-change-this
INVOICENINJA_DEBUG=false
INVOICENINJA_REQUIRE_HTTPS=false
INVOICENINJA_DB_NAME=invoiceninja
INVOICENINJA_DB_USER=invoiceninja
INVOICENINJA_DB_PASSWORD=secure_password_change_this
INVOICENINJA_DB_ROOT_PASSWORD=root_secure_password_change_this
INVOICENINJA_MAIL_MAILER=smtp
INVOICENINJA_MAIL_ENCRYPTION=tls
INVOICENINJA_MAIL_FROM=invoices@printshop.com
INVOICENINJA_MAIL_FROM_NAME=PrintShop OS

# -----------------------------------------------------------------------------
# n8n Configuration (Workflow Automation)
# -----------------------------------------------------------------------------
N8N_HOST=localhost
N8N_PROTOCOL=http
# Generate with: openssl rand -hex 32
N8N_ENCRYPTION_KEY=your-encryption-key-change-this
N8N_WEBHOOK_URL=http://localhost:5678/
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=secure_password_change_this
N8N_DB_NAME=n8n

# -----------------------------------------------------------------------------
# Paperless-ngx Configuration (Document Management)
# -----------------------------------------------------------------------------
PAPERLESS_DB_NAME=paperless
# Generate with: openssl rand -hex 32
PAPERLESS_SECRET_KEY=your-secret-key-change-this
PAPERLESS_OCR_LANGUAGE=eng
PAPERLESS_URL=http://localhost:8010
PAPERLESS_ADMIN_USER=admin
PAPERLESS_ADMIN_PASSWORD=secure_password_change_this

# -----------------------------------------------------------------------------
# Penpot Configuration (Design Collaboration)
# -----------------------------------------------------------------------------
PENPOT_PUBLIC_URI=http://localhost:9001
PENPOT_DB_NAME=penpot
PENPOT_SMTP_FROM=design@printshop.com
PENPOT_SMTP_REPLY_TO=design@printshop.com

# -----------------------------------------------------------------------------
# Vaultwarden Configuration (Password Management)
# -----------------------------------------------------------------------------
VAULTWARDEN_DOMAIN=http://localhost:8222
# Generate with: openssl rand -base64 48
VAULTWARDEN_ADMIN_TOKEN=your-admin-token-change-this
VAULTWARDEN_SIGNUPS_ALLOWED=true
VAULTWARDEN_INVITATIONS_ALLOWED=true
VAULTWARDEN_SMTP_FROM=vault@printshop.com
VAULTWARDEN_SMTP_SECURITY=starttls

# -----------------------------------------------------------------------------
# Milvus Vector Database
# -----------------------------------------------------------------------------
MILVUS_ADDRESS=localhost:19530
MILVUS_MINIO_ACCESS_KEY=minioadmin
MILVUS_MINIO_SECRET_KEY=minioadmin

# Attu (Milvus Web UI)
ATTU_URL=http://localhost:8001

# -----------------------------------------------------------------------------
# Production Dashboard Configuration
# -----------------------------------------------------------------------------
# Labor cost per hour for cost calculations (in USD)
LABOR_COST_PER_HOUR=20

# -----------------------------------------------------------------------------
# Production Configuration (Update for deployment)
# -----------------------------------------------------------------------------
# NODE_ENV=production
# STRAPI_URL=https://api.yourdomain.com
# CORS_ORIGINS=https://yourdomain.com
# SSL_ENABLED=true
