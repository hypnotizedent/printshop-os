# =============================================================================
# PrintShop OS - Production Environment Variables
# =============================================================================
# This file contains production-ready environment variable templates
# Copy this file to .env.production and update with your actual values
# =============================================================================

# -----------------------------------------------------------------------------
# General Configuration
# -----------------------------------------------------------------------------
NODE_ENV=production
LOG_LEVEL=warn
TZ=America/New_York

# -----------------------------------------------------------------------------
# Database Configuration (Production)
# -----------------------------------------------------------------------------
DATABASE_CLIENT=postgres
DATABASE_HOST=your-db-host.rds.amazonaws.com
DATABASE_PORT=5432
DATABASE_NAME=printshop_production
DATABASE_USERNAME=printshop_user
DATABASE_PASSWORD=CHANGE_ME_STRONG_PASSWORD
DATABASE_SSL=true
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# PostgreSQL (if self-hosted)
POSTGRES_USER=printshop_user
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD
POSTGRES_DB=printshop_production

# -----------------------------------------------------------------------------
# Redis Configuration (Production)
# -----------------------------------------------------------------------------
REDIS_HOST=your-redis-cluster.cache.amazonaws.com
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_REDIS_PASSWORD
REDIS_TLS=true

# -----------------------------------------------------------------------------
# Strapi Configuration (Production)
# -----------------------------------------------------------------------------
STRAPI_HOST=0.0.0.0
STRAPI_PORT=1337
STRAPI_URL=https://api.yourdomain.com

# CRITICAL: Generate strong random values for production
# Use: node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
STRAPI_APP_KEYS=CHANGE_ME_KEY1,CHANGE_ME_KEY2,CHANGE_ME_KEY3,CHANGE_ME_KEY4
STRAPI_API_TOKEN_SALT=CHANGE_ME_STRONG_RANDOM_SALT
STRAPI_ADMIN_JWT_SECRET=CHANGE_ME_STRONG_RANDOM_SECRET
STRAPI_JWT_SECRET=CHANGE_ME_STRONG_RANDOM_JWT_SECRET

# Strapi Admin URL (for email links)
STRAPI_ADMIN_CLIENT_URL=https://admin.yourdomain.com
STRAPI_ADMIN_CLIENT_PREVIEW_SECRET=CHANGE_ME_PREVIEW_SECRET

# -----------------------------------------------------------------------------
# MongoDB Configuration (Production - for Appsmith)
# -----------------------------------------------------------------------------
MONGO_INITDB_ROOT_USERNAME=appsmith_admin
MONGO_INITDB_ROOT_PASSWORD=CHANGE_ME_MONGO_PASSWORD
MONGO_INITDB_DATABASE=appsmith_production

# Or MongoDB Atlas connection string
MONGODB_URI=mongodb+srv://user:password@cluster.mongodb.net/appsmith?retryWrites=true&w=majority

# -----------------------------------------------------------------------------
# Appsmith Configuration (Production)
# -----------------------------------------------------------------------------
APPSMITH_INSTANCE_NAME=PrintShop Production Dashboard
APPSMITH_ENCRYPTION_PASSWORD=CHANGE_ME_STRONG_ENCRYPTION_PASSWORD
APPSMITH_ENCRYPTION_SALT=CHANGE_ME_STRONG_ENCRYPTION_SALT
APPSMITH_MONGODB_URI=${MONGODB_URI}
APPSMITH_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}

# Appsmith Email (for notifications)
APPSMITH_MAIL_ENABLED=true
APPSMITH_MAIL_FROM=noreply@yourdomain.com
APPSMITH_REPLY_TO=support@yourdomain.com
APPSMITH_MAIL_HOST=smtp.sendgrid.net
APPSMITH_MAIL_PORT=587
APPSMITH_MAIL_SMTP_TLS_ENABLED=true
APPSMITH_MAIL_USERNAME=apikey
APPSMITH_MAIL_PASSWORD=CHANGE_ME_SENDGRID_API_KEY

# Appsmith OAuth (optional)
APPSMITH_OAUTH2_GOOGLE_CLIENT_ID=
APPSMITH_OAUTH2_GOOGLE_CLIENT_SECRET=

# -----------------------------------------------------------------------------
# Email Configuration (Production - Nodemailer)
# -----------------------------------------------------------------------------
EMAIL_PROVIDER=sendgrid
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USER=apikey
EMAIL_PASS=CHANGE_ME_SENDGRID_API_KEY
EMAIL_FROM=noreply@yourdomain.com
EMAIL_FROM_NAME=PrintShop OS

# Alternative: AWS SES
# EMAIL_PROVIDER=ses
# AWS_ACCESS_KEY_ID=CHANGE_ME_AWS_KEY
# AWS_SECRET_ACCESS_KEY=CHANGE_ME_AWS_SECRET
# AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# Security Configuration (Production)
# -----------------------------------------------------------------------------
# CORS Origins (comma-separated)
CORS_ORIGINS=https://yourdomain.com,https://api.yourdomain.com,https://admin.yourdomain.com

# Session & Cookie Secrets
SESSION_SECRET=CHANGE_ME_STRONG_SESSION_SECRET
COOKIE_SECRET=CHANGE_ME_STRONG_COOKIE_SECRET

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000

# -----------------------------------------------------------------------------
# SSL/TLS Configuration (Production)
# -----------------------------------------------------------------------------
SSL_ENABLED=true
FORCE_HTTPS=true

# -----------------------------------------------------------------------------
# Monitoring & Logging (Production)
# -----------------------------------------------------------------------------
# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ENVIRONMENT=production

# Application Insights (Azure)
APPINSIGHTS_INSTRUMENTATIONKEY=

# -----------------------------------------------------------------------------
# Docker Configuration (Production)
# -----------------------------------------------------------------------------
COMPOSE_PROJECT_NAME=printshop-os-prod

# -----------------------------------------------------------------------------
# Pricing Engine Configuration (Production)
# -----------------------------------------------------------------------------
PRICING_ENGINE_PORT=3001
PRICING_ENGINE_API_KEY=CHANGE_ME_PRICING_API_KEY

# -----------------------------------------------------------------------------
# Optional: AI Features (Production)
# -----------------------------------------------------------------------------
OPENAI_API_KEY=sk-CHANGE_ME_OPENAI_PRODUCTION_KEY
OPENAI_MODEL=gpt-4
OPENAI_MAX_TOKENS=2000

# -----------------------------------------------------------------------------
# Optional: Supplier API Integration (Production)
# -----------------------------------------------------------------------------
# S&S Activewear
SS_ACTIVEWEAR_API_KEY=CHANGE_ME_SS_API_KEY
SS_ACTIVEWEAR_ACCOUNT_NUMBER=

# SanMar
SANMAR_CLIENT_ID=CHANGE_ME_SANMAR_CLIENT_ID
SANMAR_CLIENT_SECRET=CHANGE_ME_SANMAR_CLIENT_SECRET
SANMAR_CUSTOMER_NUMBER=

# AS Colour
AS_COLOUR_API_KEY=CHANGE_ME_AS_COLOUR_API_KEY
AS_COLOUR_ACCOUNT_NUMBER=

# -----------------------------------------------------------------------------
# Optional: Shipping Integration (Production)
# -----------------------------------------------------------------------------
EASYPOST_API_KEY=CHANGE_ME_EASYPOST_PRODUCTION_KEY
EASYPOST_MODE=production

# -----------------------------------------------------------------------------
# Backup Configuration (Production)
# -----------------------------------------------------------------------------
BACKUP_ENABLED=true
BACKUP_SCHEDULE="0 2 * * *"
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=printshop-backups
AWS_BACKUP_ACCESS_KEY_ID=CHANGE_ME_AWS_BACKUP_KEY
AWS_BACKUP_SECRET_ACCESS_KEY=CHANGE_ME_AWS_BACKUP_SECRET
AWS_BACKUP_REGION=us-east-1

# -----------------------------------------------------------------------------
# CDN Configuration (Production)
# -----------------------------------------------------------------------------
CDN_ENABLED=true
CDN_URL=https://cdn.yourdomain.com
CLOUDFRONT_DISTRIBUTION_ID=

# -----------------------------------------------------------------------------
# Feature Flags (Production)
# -----------------------------------------------------------------------------
FEATURE_CUSTOMER_PORTAL=true
FEATURE_SUPPLIER_SYNC=true
FEATURE_AI_QUOTE_OPTIMIZER=false
FEATURE_ANALYTICS_DASHBOARD=true

# -----------------------------------------------------------------------------
# Production URLs
# -----------------------------------------------------------------------------
FRONTEND_URL=https://yourdomain.com
BACKEND_URL=https://api.yourdomain.com
ADMIN_URL=https://admin.yourdomain.com
DASHBOARD_URL=https://dashboard.yourdomain.com

# -----------------------------------------------------------------------------
# Vite Frontend Build Variables
# -----------------------------------------------------------------------------
# IMPORTANT: These are baked into the frontend build at build time, not runtime.
# Set these before running 'docker compose build' or 'npm run build'.
#
# For Cloudflare Tunnel with SSL (recommended production values):
VITE_API_URL=https://api.ronny.works
VITE_STRAPI_URL=https://printshop.ronny.works
VITE_PRICING_URL=https://api.ronny.works
VITE_WS_URL=wss://api.ronny.works
#
# For local development:
# VITE_API_URL=http://localhost:3001
# VITE_STRAPI_URL=http://localhost:1337
# VITE_PRICING_URL=http://localhost:3004
# VITE_WS_URL=ws://localhost:3004

# -----------------------------------------------------------------------------
# Health Check Configuration
# -----------------------------------------------------------------------------
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL=30000

# =============================================================================
# IMPORTANT SECURITY NOTES
# =============================================================================
# 1. NEVER commit this file with real secrets to version control
# 2. Use strong, randomly generated passwords (minimum 32 characters)
# 3. Rotate secrets regularly (every 90 days)
# 4. Use environment-specific secrets management (AWS Secrets Manager, etc.)
# 5. Enable SSL/TLS for all external communications
# 6. Restrict database/redis access to application IPs only
# 7. Enable audit logging for all production systems
# 8. Set up monitoring and alerting for suspicious activity
# =============================================================================
